.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "STARTUP-CONFIG.5 1"
.TH STARTUP-CONFIG.5 1 "2014-09-11" "perl v5.14.2" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
startup\-config \- configuration file for l2tpns
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
/etc/l2tpns/startup\-config
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBstartup-config\fR is the configuration file for \fBl2tpns\fR
.PP
The format is plain text, in the same format as accepted by
the configuration mode of l2tpns's telnet administrative 
interface. Comments are indicated by either the character # or !.
.SS "\s-1SETTINGS\s0"
.IX Subsection "SETTINGS"
Settings are specified with
.IP "\fBset\fR \fIvariable\fR \fIvalue\fR" 4
.IX Item "set variable value"
.PP
A list of the possible configuration directives follows. Each of these should be set by a line like:
.ie n .IP "\fBset\fR \fIconfigstring\fR \fI""value""\fR" 4
.el .IP "\fBset\fR \fIconfigstring\fR \fI``value''\fR" 4
.IX Item "set configstring value"
.PD 0
.IP "\fBset\fR \fIipaddress\fR \fI192.168.1.1\fR" 4
.IX Item "set ipaddress 192.168.1.1"
.IP "\fBset\fR \fIboolean\fR \fItrue\fR" 4
.IX Item "set boolean true"
.PD
.PP
The following \fIvariables\fR may be set:
.IP "\fBaccounting_dir\fR (string)" 4
.IX Item "accounting_dir (string)"
If set to a directory, then every 5 minutes the current usage for every connected use will be dumped to a file in this directory. Each file dumped begins with a header, where each line is prefixed by #. Following the header is a single line for every connected user, fields separated by a space.
.Sp
The fields are username, ip, qos, uptxoctets, downrxoctets, origin (optional). The qos field is 1 if a standard user, and 2 if the user is throttled. The origin field is dump if \fBaccount_all_origin\fR is set to true (origin value: L=LAC data, R=Remote \s-1LNS\s0 data, P=PPPOE data).
.IP "\fBaccount_all_origin\fR (boolean)" 4
.IX Item "account_all_origin (boolean)"
If set to true, all origin of the usage is dumped to the accounting file (LAC+Remote \s-1LNS+PPPOE\s0)(default false).
.IP "\fBallow_duplicate_users\fR (boolean)" 4
.IX Item "allow_duplicate_users (boolean)"
Allow multiple logins with the same username. If false (the default), any prior session with the same username will be dropped when a new session is established.
.IP "\fBauth_tunnel_change_addr_src\fR (boolean)" 4
.IX Item "auth_tunnel_change_addr_src (boolean)"
This parameter authorize to change the source \s-1IP\s0 of the tunnels l2tp. This parameter can be used when the remotes \s-1BAS/LAC\s0 are l2tpns server configured in cluster mode, but that the interface to remote \s-1LNS\s0 are not clustered (the tunnel can be coming from different source \s-1IP\s0) (default: no).
.IP "\fBbind_address\fR (ip address)" 4
.IX Item "bind_address (ip address)"
It's the listen address of the l2tp udp protocol sent and received to \s-1LAC\s0. This address is also assigned to the tun interface if no iftun_address is specified. Packets containing user traffic should be routed via this address if given, otherwise the primary address of the machine.
.IP "\fBbind_multi_address\fR (ip address)" 4
.IX Item "bind_multi_address (ip address)"
This parameter permit to listen several addresss of the l2tp udp protocol (and set several address to the tun interface).
.Sp
\&\s-1WHEN\s0 this parameter is set, It \s-1OVERWRITE\s0 the parameters \*(L"bind_address\*(R" and \*(L"iftun_address\*(R".
.Sp
these can be interesting when you want do load-balancing in cluster mode of the uploaded from the \s-1LAC\s0. For example you can set a bgp.prepend(\s-1MY_AS\s0) for Address1 on \s-1LNS1\s0 and a bgp.prepend(\s-1MY_AS\s0) for Address2 on \s-1LNS2\s0 (see \s-1BGP\s0 AS-path prepending).
.Sp
example of use with 2 address:
.Sp
\&\fBset\fR \fIbind_multi_address\fR \*(L"64.14.13.41, 64.14.13.42\*(R"
.IP "\fBcluster_address\fR (ip address)" 4
.IX Item "cluster_address (ip address)"
Multicast cluster address (default: 239.192.13.13). See the section on Clustering for more information.
.IP "\fBcluster_interface\fR (string)" 4
.IX Item "cluster_interface (string)"
Interface for cluster packets (default: eth0).
.IP "\fBcluster_mcast_ttl\fR (int)" 4
.IX Item "cluster_mcast_ttl (int)"
\&\s-1TTL\s0 for multicast packets (default: 1).
.IP "\fBcluster_hb_interval\fR (int)" 4
.IX Item "cluster_hb_interval (int)"
Interval in tenths of a second between cluster heartbeat/pings.
.IP "\fBcluster_hb_timeout\fR (int)" 4
.IX Item "cluster_hb_timeout (int)"
Cluster heartbeat timeout in tenths of a second. A new master will be elected when this interval has been passed without seeing a heartbeat from the master.
.IP "\fBcluster_master_min_adv\fR (int)" 4
.IX Item "cluster_master_min_adv (int)"
Determines the minumum number of up to date slaves required before the master will drop routes (default: 1).
.IP "\fBdebug\fR (int)" 4
.IX Item "debug (int)"
Set the level of debugging messages written to the log file. The value should
be between 0 and 5, with 0 being no debugging, and 5 being the highest.
A rough description of the levels is:
.RS 4
.IP "0. Critical Errors \- Things are probably broken" 4
.IX Item "0. Critical Errors - Things are probably broken"
.PD 0
.IP "1. Errors \- Things might have gone wrong, but probably will recover" 4
.IX Item "1. Errors - Things might have gone wrong, but probably will recover"
.IP "2. Warnings \- Just in case you care what is not quite perfect" 4
.IX Item "2. Warnings - Just in case you care what is not quite perfect"
.IP "3. Information \- Parameters of control packets" 4
.IX Item "3. Information - Parameters of control packets"
.IP "4. Calls \- For tracing the execution of the code" 4
.IX Item "4. Calls - For tracing the execution of the code"
.IP "5. Packets \- Everything, including a hex dump of all packets processed... probably twice" 4
.IX Item "5. Packets - Everything, including a hex dump of all packets processed... probably twice"
.RE
.RS 4
.PD
.Sp
Note that the higher you set the debugging level, the slower the program will run. Also, at level 5 a \s-1LOT\s0 of information will be logged. This should only ever be used for working out why it doesn't work at all.
.RE
.IP "\fBdump_speed\fR (boolean)" 4
.IX Item "dump_speed (boolean)"
If set to true, then the current bandwidth utilization will be logged every second. Even if this is disabled, you can see this information by running the uptime command on the \s-1CLI\s0.
.IP "\fBdisable_sending_hello\fR (boolean)" 4
.IX Item "disable_sending_hello (boolean)"
Disable l2tp sending \s-1HELLO\s0 message for Apple compatibility. Some \s-1OS\s0 X implementation of l2tp no manage the L2TP \*(L"\s-1HELLO\s0 message\*(R". (default: no).
.IP "\fBecho_timeout\fR (int)" 4
.IX Item "echo_timeout (int)"
Time between last packet sent and \s-1LCP\s0 \s-1ECHO\s0 generation (default: 10 (seconds)).
.IP "\fBguest_account\fR" 4
.IX Item "guest_account"
Allow multiple logins matching this specific username.
.IP "\fBicmp_rate\fR (int)" 4
.IX Item "icmp_rate (int)"
Maximum number of host unreachable \s-1ICMP\s0 packets to send per second.
.IP "\fBidle_echo_timeout\fR (int)" 4
.IX Item "idle_echo_timeout (int)"
Drop sessions who have not responded within idle_echo_timeout seconds (default: 240 (seconds))
.IP "\fBiftun_address\fR (ip address)" 4
.IX Item "iftun_address (ip address)"
This parameter is used when you want a tun interface address different from the address of \*(L"bind_address\*(R" (For use in cases of specific configuration). If no address is given to iftun_address and bind_address, 1.1.1.1 is used.
.IP "\fBl2tp_mtu\fR (int)" 4
.IX Item "l2tp_mtu (int)"
\&\s-1MTU\s0 of interface for L2TP traffic (default: 1500). Used to set link \s-1MRU\s0 and adjust \s-1TCP\s0 \s-1MSS\s0.
.IP "\fBl2tp_secret\fR (string)" 4
.IX Item "l2tp_secret (string)"
The secret used by l2tpns for authenticating tunnel request. Must be the same as the \s-1LAC\s0, or authentication will fail. Only actually be used if the \s-1LAC\s0 requests authentication.
.IP "\fBlock_pages\fR (boolean)" 4
.IX Item "lock_pages (boolean)"
Keep all pages mapped by the l2tpns process in memory.
.IP "\fBlog_file\fR (string)" 4
.IX Item "log_file (string)"
This will be where all logging and debugging information is written to.This may be either a filename, such as /var/log/l2tpns, or the string syslog:facility, where facility is any one of the syslog logging facilities, such as local5.
.IP "\fBmulti_read_count\fR (int)" 4
.IX Item "multi_read_count (int)"
Number of packets to read off each of the \s-1UDP\s0 and \s-1TUN\s0 fds when returned as readable by select (default: 10). Avoids incurring the unnecessary system call overhead of select on busy servers.
.IP "\fBpacket_limit\fR (int>" 4
.IX Item "packet_limit (int>"
Maximum number of packets of downstream traffic to be handled each tenth of a second per session. If zero, no limit is applied (default: 0). Intended as a DoS prevention mechanism and not a general throttling control (packets are dropped, not queued).
.IP "\fBpeer_address\fR (ip address)" 4
.IX Item "peer_address (ip address)"
Address to send to clients as the default gateway.
.IP "\fBpid_file\fR (string)" 4
.IX Item "pid_file (string)"
If set, the process id will be written to the specified file. The value must be an absolute path.
.IP "\fBppp_restart_time\fR (int)" 4
.IX Item "ppp_restart_time (int)"
.PD 0
.IP "\fBppp_max_configure\fR (int)" 4
.IX Item "ppp_max_configure (int)"
.IP "\fBppp_max_failure\fR (int)" 4
.IX Item "ppp_max_failure (int)"
.PD
\&\s-1PPP\s0 counter and timer values, as described in Section 4.1 of \s-1RFC1661\s0.
.Sp
\&\fIppp_restart_time\fR, Restart timer for \s-1PPP\s0 protocol negotiation in seconds (default: 3).
.Sp
\&\fIppp_max_configure\fR, Number of configure requests to send before giving up (default: 10).
.Sp
\&\fIppp_max_failure\fR, Number of Configure-Nak requests to send before sending a Configure-Reject (default: 5).
.IP "\fBprimary_dns\fR (ip address), \fBsecondary_dns\fR (ip address)" 4
.IX Item "primary_dns (ip address), secondary_dns (ip address)"
Whenever a \s-1PPP\s0 connection is established, \s-1DNS\s0 servers will be sent to the user, both a primary and a secondary. If either is set to 0.0.0.0, then that one will not be sent.
.IP "\fBprimary_radius\fR (ip address), \fBsecondary_radius\fR (ip address)" 4
.IX Item "primary_radius (ip address), secondary_radius (ip address)"
Sets the \s-1RADIUS\s0 servers used for both authentication and accounting. If the primary server does not respond, then the secondary \s-1RADIUS\s0 server will be tried.
.Sp
Note: in addition to the source \s-1IP\s0 address and identifier, the \s-1RADIUS\s0 server must include the source port when detecting duplicates to supress (in order to cope with a large number of sessions comming on-line simultaneously l2tpns uses a set of udp sockets, each with a seperate identifier).
.IP "\fBprimary_radius_port\fR (short), \fBsecondary_radius_port\fR (short)" 4
.IX Item "primary_radius_port (short), secondary_radius_port (short)"
Sets the authentication ports for the primary and secondary \s-1RADIUS\s0 servers. The accounting port is one more than the authentication port. If no \s-1RADIUS\s0 ports are given, the authentication port defaults to 1645, and the accounting port to 1646.
.IP "\fBradius_accounting\fR (boolean)" 4
.IX Item "radius_accounting (boolean)"
If set to true, then \s-1RADIUS\s0 accounting packets will be sent. This means that a \fBStart\fR record will be sent when the session is successfully authenticated, and a \fBStop\fR record will be sent when the session is closed.
.IP "\fBradius_interim\fR (int)" 4
.IX Item "radius_interim (int)"
If radius_accounting is on, defines the interval between sending of \s-1RADIUS\s0 interim accounting records (in seconds).
.IP "\fBradius_secret\fR (string)" 4
.IX Item "radius_secret (string)"
This secret will be used in all \s-1RADIUS\s0 queries. If this is not set then \s-1RADIUS\s0 queries will fail.
.IP "\fBradius_authtypes\fR (string)" 4
.IX Item "radius_authtypes (string)"
A comma separated list of supported \s-1RADIUS\s0 authentication methods (\*(L"pap\*(R" or \*(L"chap\*(R"), in order of preference (default \*(L"pap\*(R").
.IP "\fBradius_dae_port\fR (short)" 4
.IX Item "radius_dae_port (short)"
Port for \s-1DAE\s0 \s-1RADIUS\s0 (Packet of Death/Disconnect, Change of Authorization) requests (default: 3799).
.IP "\fBradius_bind_min\fR, \fBradius_bind_max\fR (int)" 4
.IX Item "radius_bind_min, radius_bind_max (int)"
Define a port range in which to bind sockets used to send and receive \s-1RADIUS\s0 packets. Must be at least \s-1RADIUS_FDS\s0 (64) wide. Simplifies firewalling of \s-1RADIUS\s0 ports (default: dynamically assigned).
.IP "\fBrandom_device\fR (string)" 4
.IX Item "random_device (string)"
Path to random data source (default /dev/urandom). Use "" to use the \fIrand()\fR library function.
.IP "\fBscheduler_fifo\fR (boolean)" 4
.IX Item "scheduler_fifo (boolean)"
Sets the scheduling policy for the l2tpns process to \s-1SCHED_FIFO\s0. This causes the kernel to immediately preempt any currently running \s-1SCHED_OTHER\s0 (normal) process in favour of l2tpns when it becomes runnable. Ignored on uniprocessor systems.
.IP "\fBsend_garp\fR (boolean)" 4
.IX Item "send_garp (boolean)"
Determines whether or not to send a gratuitous \s-1ARP\s0 for the bind_address when the server is ready to handle traffic (default: true). This value is ignored if \s-1BGP\s0 is configured.
.IP "\fBtundevicename\fR (string)" 4
.IX Item "tundevicename (string)"
Name of the tun interface (default: \*(L"tun0\*(R").
.IP "\fBthrottle_speed\fR (int)" 4
.IX Item "throttle_speed (int)"
Sets the default speed (in kbits/s) which sessions will be limited to. If this is set to 0, then throttling will not be used at all. Note: You can set this by the \s-1CLI\s0, but changes will not affect currently connected users.
.IP "\fBthrottle_buckets\fR (int)" 4
.IX Item "throttle_buckets (int)"
Number of token buckets to allocate for throttling. Each throttled session requires two buckets (in and out).
.SS "DHCPv6 And IPv6 \s-1SETTINGS\s0"
.IX Subsection "DHCPv6 And IPv6 SETTINGS"
.IP "\fBdhcp6_preferred_lifetime\fR (int)" 4
.IX Item "dhcp6_preferred_lifetime (int)"
The preferred lifetime for the IPv6 address and the IPv6 prefix address, expressed in units of seconds (see rfc3315).
.IP "\fBdhcp6_valid_lifetime\fR (int)" 4
.IX Item "dhcp6_valid_lifetime (int)"
The valid lifetime for the IPv6 address and the IPv6 prefix address, expressed in units of seconds (see rfc3315).
.IP "\fBdhcp6_server_duid\fR (int)" 4
.IX Item "dhcp6_server_duid (int)"
\&\s-1DUID\s0 Based on Link-layer Address (DUID-LL) (see rfc3315).
.IP "\fBprimary_ipv6_dns\fR, \fBsecondary_ipv6_dns\fR (Ipv6 address)" 4
.IX Item "primary_ipv6_dns, secondary_ipv6_dns (Ipv6 address)"
IPv6 \s-1DNS\s0 servers will be sent to the user (see rfc3646).
.IP "\fBdefault_ipv6_domain_list\fR (string)" 4
.IX Item "default_ipv6_domain_list (string)"
The Domain Search List (ex: \*(L"fdn.fr\*(R") (see rfc3646).
.IP "\fBipv6_prefix\fR (Ipv6 address)" 4
.IX Item "ipv6_prefix (Ipv6 address)"
Enable negotiation of IPv6. This forms the the first 64 bits of the client allocated address. The remaining 64 come from the allocated IPv4 address and 4 bytes of 0.
.SS "\s-1LAC\s0 \s-1SETTINGS\s0"
.IX Subsection "LAC SETTINGS"
.IP "\fBbind_address_remotelns\fR (ip address)" 4
.IX Item "bind_address_remotelns (ip address)"
Address of the interface to listen the remote \s-1LNS\s0 tunnels. If no address is given, all interfaces are listened (Any Address).
.IP "\fBbind_portremotelns\fR (short)" 4
.IX Item "bind_portremotelns (short)"
Port to bind for the Remote \s-1LNS\s0 (default: 65432).
.PP
A static \s-1REMOTES\s0 \s-1LNS\s0 configuration can be entered by the command:
.IP "\fBsetforward\fR \fI\s-1MASK\s0\fR \fI\s-1IP\s0\fR \fI\s-1PORT\s0\fR \fI\s-1SECRET\s0\fR" 4
.IX Item "setforward MASK IP PORT SECRET"
where \s-1MASK\s0 specifies the mask of users who have forwarded to remote \s-1LNS\s0 (ex: \*(L"/friendISP@company.com\*(R").
.Sp
where \s-1IP\s0 specifies the \s-1IP\s0 of the remote \s-1LNS\s0 (ex: \*(L"66.66.66.55\*(R").
.Sp
where \s-1PORT\s0 specifies the L2TP Port of the remote \s-1LNS\s0 (Normally should be 1701) (ex: 1701).
.Sp
where \s-1SECRET\s0 specifies the secret password the remote \s-1LNS\s0 (ex: mysecret).
.PP
The static \s-1REMOTE\s0 \s-1LNS\s0 configuration can be used when the friend \s-1ISP\s0 not have a proxied Radius.
.PP
If a proxied Radius is used, It will return the \s-1RADIUS\s0 attributes:
.IP "Tunnel\-Type:1 = L2TP" 4
.IX Item "Tunnel-Type:1 = L2TP"
.PD 0
.IP "Tunnel\-Medium\-Type:1 = IPv4" 4
.IX Item "Tunnel-Medium-Type:1 = IPv4"
.ie n .IP "Tunnel\-Password:1 = ""\s-1LESECRETL2TP\s0""" 4
.el .IP "Tunnel\-Password:1 = ``\s-1LESECRETL2TP\s0''" 4
.IX Item "Tunnel-Password:1 = LESECRETL2TP"
.ie n .IP "Tunnel\-Server\-Endpoint:1 = ""88.xx.xx.x1""" 4
.el .IP "Tunnel\-Server\-Endpoint:1 = ``88.xx.xx.x1''" 4
.IX Item "Tunnel-Server-Endpoint:1 = 88.xx.xx.x1"
.ie n .IP "Tunnel\-Assignment\-Id:1 = ""friendisp_lns1""" 4
.el .IP "Tunnel\-Assignment\-Id:1 = ``friendisp_lns1''" 4
.IX Item "Tunnel-Assignment-Id:1 = friendisp_lns1"
.IP "Tunnel\-Type:2 += L2TP" 4
.IX Item "Tunnel-Type:2 += L2TP"
.IP "Tunnel\-Medium\-Type:2 += IPv4" 4
.IX Item "Tunnel-Medium-Type:2 += IPv4"
.ie n .IP "Tunnel\-Password:2 += ""\s-1LESECRETL2TP\s0""" 4
.el .IP "Tunnel\-Password:2 += ``\s-1LESECRETL2TP\s0''" 4
.IX Item "Tunnel-Password:2 += LESECRETL2TP"
.ie n .IP "Tunnel\-Server\-Endpoint:2 += ""88.xx.xx.x2""" 4
.el .IP "Tunnel\-Server\-Endpoint:2 += ``88.xx.xx.x2''" 4
.IX Item "Tunnel-Server-Endpoint:2 += 88.xx.xx.x2"
.ie n .IP "Tunnel\-Assignment\-Id:2 += ""friendisp_lns2""" 4
.el .IP "Tunnel\-Assignment\-Id:2 += ``friendisp_lns2''" 4
.IX Item "Tunnel-Assignment-Id:2 += friendisp_lns2"
.PD
.SS "\s-1PPPOE\s0 \s-1SETTINGS\s0"
.IX Subsection "PPPOE SETTINGS"
.IP "\fBpppoe_if_to_bind\fR (string)" 4
.IX Item "pppoe_if_to_bind (string)"
\&\s-1PPPOE\s0 server interface to bind (ex: \*(L"eth0.12\*(R"), If not specified the server \s-1PPPOE\s0 is not enabled. For the pppoe clustering, all the interfaces \s-1PPPOE\s0 of the clusters must use the same \s-1HW\s0 address (\s-1MAC\s0 address).
.IP "\fBpppoe_service_name\fR (string)" 4
.IX Item "pppoe_service_name (string)"
\&\s-1PPPOE\s0 service name (default: \s-1NULL\s0).
.IP "\fBpppoe_ac_name\fR (string)" 4
.IX Item "pppoe_ac_name (string)"
\&\s-1PPPOE\s0 access concentrator name (default: \*(L"l2tpns\-pppoe\*(R").
.IP "\fBpppoe_only_equal_svc_name\fR (boolean)" 4
.IX Item "pppoe_only_equal_svc_name (boolean)"
If set to yes, the \s-1PPPOE\s0 server only accepts clients with a \*(L"service-name\*(R" different from \s-1NULL\s0 and a \*(L"service-name\*(R" equal to server \*(L"service-name\*(R" (default: no).
.SS "\s-1BGP\s0 \s-1ROUTING\s0"
.IX Subsection "BGP ROUTING"
The routing configuration section is entered by the command
.PP
\&\fBrouter\fR \fBbgp\fR \fIas\fR
.PP
where \fIas\fR specifies the local \s-1AS\s0 number.
.PP
Subsequent lines prefixed with \fBneighbour\fR \fIpeer\fR define the attributes of \s-1BGP\s0 neighhbours. Valid commands are:
.PP
\&\fBneighbour\fR \fIpeer\fR \fBremote-as\fR \fIas\fR
.PP
\&\fBneighbour\fR \fIpeer\fR \fBtimers\fR \fIkeepalive\fR \fIhold\fR
.PP
Where \fIpeer\fR specifies the \s-1BGP\s0 neighbour as either a hostname or \s-1IP\s0 address, \fIas\fR is the remote \s-1AS\s0 number and \fIkeepalive\fR, \fIhold\fR are the timer values in seconds.
.SS "\s-1NAMED\s0 \s-1ACCESS\s0 \s-1LISTS\s0"
.IX Subsection "NAMED ACCESS LISTS"
Named access lists may be defined with either of
.IP "\(bu" 4
\&\fBip\fR \fBaccess-list\fR \fBstandard\fR \fIname\fR
.IP "\(bu" 4
\&\fBip\fR \fBaccess-list\fR \fBextended\fR \fIname\fR
.PP
Subsequent lines starting with permit or deny define the body of the access-list.
.PP
\fIStandard Access Lists\fR
.IX Subsection "Standard Access Lists"
.PP
Standard access lists are defined with:
.IP "\(bu" 4
{\fBpermit\fR|\fBdeny\fR} \fIsource\fR [\fIdest\fR]
.PP
Where \fIsource\fR and \fIdest\fR specify \s-1IP\s0 matches using one of:
.IP "\(bu" 4
\&\fIaddress\fR \fIwildard\fR
.IP "\(bu" 4
\&\fBhost\fR \fIaddress\fR
.IP "\(bu" 4
\&\fBany\fR
.PP
\&\fIaddress\fR and \fIwildard\fR are in dotted-quad notation, bits in the \fIwildard\fR indicate which address bits in \fIaddress\fR are relevant to the match (0 = exact match; 1 = don't care).
.PP
The shorthand 'host address' is equivalent to '\fIaddress\fR \fB0.0.0.0\fR'; '\fBany\fR' to '\fB0.0.0.0\fR \fB255.255.255.255\fR'.
.PP
\fIExtended Access Lists\fR
.IX Subsection "Extended Access Lists"
.PP
Extended access lists are defined with:
.IP "\(bu" 4
{\fBpermit\fR|\fBdeny\fR} \fIproto\fR \fIsource\fR [\fIports\fR] \fIdest\fR [\fIports\fR] [\fIflags\fR]
.PP
Where \fIproto\fR is one of \fBip\fR, \fBtcp\fR or \fBudp\fR, and \fIsource\fR and \fIdest\fR are as described above for standard lists.
.PP
For \s-1TCP\s0 and \s-1UDP\s0 matches, source and destination may be optionally followed by a ports specification:
.IP "\(bu" 4
{\fBeq|neq|gt|lt\fR} \fIport\fR
.IP "\(bu" 4
\&\fBrange\fR \fIfrom\fR \fIto\fR
.PP
\&\fIflags\fR may be one of:
.IP "{\fBmatch\-any|match\-all\fR} {\fB+|\-\fR}{\fBfin|syn|rst|psh|ack|urg\fR} ..." 4
.IX Item "{match-any|match-all} {+|-}{fin|syn|rst|psh|ack|urg} ..."
Match packets with any or all of the tcp flags set (+) or clear (\-).
.IP "\fBestablished\fR" 4
.IX Item "established"
Match \*(L"established\*(R" \s-1TCP\s0 connections: packets with \s-1RST\s0 or \s-1ACK\s0 set, and \s-1SYN\s0 clear.
.IP "\fBfragments\fR" 4
.IX Item "fragments"
Match \s-1IP\s0 fragments. May not be specified on rules with layer 4 matches.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIl2tpns\fR\|(8)
